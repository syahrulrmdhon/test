{"ast":null,"code":"'use strict';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport PropTypes from 'prop-types';\nimport { fetchJSONP } from '../utils';\n\nvar VkontakteSource =\n/*#__PURE__*/\nfunction () {\n  function VkontakteSource(props) {\n    var _this = this;\n\n    _classCallCheck(this, VkontakteSource);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"isCompatible\", function () {\n      return !!_this.props.vkontakteId;\n    });\n\n    _defineProperty(this, \"get\", function (setState) {\n      var vkontakteId = _this.props.vkontakteId;\n\n      var size = _this.getImageSize();\n\n      var url = \"https://api.vk.com/method/users.get?user_id=\".concat(vkontakteId, \"&v=5.8&fields=\").concat(size);\n\n      var onError = function onError() {\n        return setState(null);\n      };\n\n      fetchJSONP(url, function (data) {\n        var src = data && data.response && data.response[0];\n        if (!src) return onError();\n        setState({\n          sourceName: 'vkontakte',\n          src: src\n        });\n      }, onError);\n    });\n\n    this.props = props;\n  }\n\n  _createClass(VkontakteSource, [{\n    key: \"getImageSize\",\n    value: function getImageSize() {\n      var size = this.props.size;\n      if (size <= 50) return 'photo_50';\n      if (size <= 100) return 'photo_100';\n      if (size <= 200) return 'photo_200';\n      return 'photo_max';\n    }\n  }]);\n\n  return VkontakteSource;\n}();\n\n_defineProperty(VkontakteSource, \"propTypes\", {\n  vkontakteId: PropTypes.string\n});\n\nexport { VkontakteSource as default };","map":null,"metadata":{},"sourceType":"module"}